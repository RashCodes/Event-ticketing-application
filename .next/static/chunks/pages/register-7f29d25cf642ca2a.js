(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{5511:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return s(3187)}])},3187:function(e,t,s){"use strict";s.r(t);var a=s(5893),r=s(7294),n=s(9008),l=s.n(n),i=s(1664),o=s.n(i),c=s(3854),u=s(8193),d=s(4158),h=s(1163);let m=()=>{let[e,t]=(0,r.useState)(""),[s,n]=(0,r.useState)(""),[i,m]=(0,r.useState)(""),x=(0,h.useRouter)(),f=a=>{a.preventDefault(),s===i&&((0,d.f1)(e,s,x),t(""),n(""),m(""))};return(0,a.jsxs)("div",{children:[(0,a.jsxs)(l(),{children:[(0,a.jsx)("title",{children:"Register | EventAlia"}),(0,a.jsx)("meta",{name:"description",content:"An event ticketing system built with NextJS and Firebase"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsxs)("main",{className:"w-full flex items-center justify-between min-h-[100vh]",children:[(0,a.jsxs)("div",{className:"md:w-[60%] w-full flex flex-col items-center justify-center min-h-[100vh] px-[30px] py-[30px] relative",children:[(0,a.jsx)(o(),{href:"/",children:(0,a.jsx)("h2",{className:"text-2xl font-medium mb-6",children:"Create an account"})}),(0,a.jsxs)("form",{className:"w-full flex flex-col justify-center",onSubmit:f,children:[(0,a.jsx)("label",{htmlFor:"email",children:"Email address"}),(0,a.jsxs)("div",{className:"w-full relative",children:[(0,a.jsx)("input",{type:"email",name:"email",className:"border px-10 py-2 mb-3 rounded-md w-full",required:!0,value:e,onChange:e=>t(e.target.value)}),(0,a.jsx)(c.hBs,{className:" absolute left-4 top-3 text-gray-300 text-xl"})]}),(0,a.jsx)("label",{htmlFor:"password",children:"Password"}),(0,a.jsxs)("div",{className:"w-full relative",children:[(0,a.jsx)("input",{type:"password",name:"password",className:"border px-10 py-2 mb-4 rounded-md w-full",minLength:6,required:!0,value:s,onChange:e=>n(e.target.value)}),(0,a.jsx)(u.R9j,{className:" absolute left-4 top-3 text-gray-300 text-xl"}),s===i&&""!==i&&(0,a.jsx)(u.mny,{className:" absolute right-4 top-3 text-green-500 text-xl"})]}),(0,a.jsx)("label",{htmlFor:"cpassword",children:"Confirm Password"}),(0,a.jsxs)("div",{className:"w-full relative",children:[(0,a.jsx)("input",{type:"password",name:"cpassword",className:"border px-10 py-2 mb-4 rounded-md w-full",required:!0,minLength:6,value:i,onChange:e=>m(e.target.value)}),(0,a.jsx)(u.R9j,{className:" absolute left-4 top-3 text-gray-300 text-xl"}),s===i&&""!==i&&(0,a.jsx)(u.mny,{className:" absolute right-4 top-3 text-green-500 text-xl"})]}),s!==i&&(0,a.jsx)("p",{className:"text-red-500 mb-2",children:"Password does not match"}),(0,a.jsx)("button",{type:"submit",className:"bg-[#FFD95A] p-3 font-medium hover:bg-[#C07F00] hover:text-[#FFF8DE] mb-3 rounded-md",children:"REGISTER"}),(0,a.jsxs)("p",{className:"text-center",children:["Already have an account?"," ",(0,a.jsx)(o(),{href:"/login",className:"text-[#C07F00]",children:"Sign in"})]})]}),(0,a.jsx)("div",{className:"absolute bottom-5 left-5",children:(0,a.jsxs)("p",{className:"opacity-50 text-sm",children:[(0,a.jsx)(o(),{href:"/",children:"EventAlia"})," \xa9 Copyright @CityU"," ",new Date().getFullYear()," "]})})]}),(0,a.jsx)("div",{className:"register md:w-[40%] h-[100vh] relative",children:(0,a.jsx)("div",{className:"absolute bottom-5 right-5",children:(0,a.jsx)("a",{href:"#",target:"_blank",className:"text-gray-100",children:"Built by Alia Osama"})})})]})]})};t.default=m},6375:function(e,t,s){"use strict";s.d(t,{I8:function(){return u},tO:function(){return o}});var a=s(3977),r=s(9828),n=s(1259),l=s(6845);let i=0===(0,a.C6)().length?(0,a.ZF)({apiKey:"AIzaSyCiTxiWzxAOndzpeNyy3TuLeT9bxnM0ra4",authDomain:"eventtiz.firebaseapp.com",projectId:"eventtiz",storageBucket:"eventtiz.appspot.com",messagingSenderId:"600043838110",appId:"1:600043838110:web:8e094eec1f41d6c353f98f",measurementId:"G-25R0S4XSE6"}):(0,a.C6)()[0];new n.w9;let o=(0,l.cF)(i),c=(0,r.ad)(i),u=(0,n.v0)(i);t.ZP=c},4158:function(e,t,s){"use strict";s.d(t,{Bt:function(){return y},Hu:function(){return j},LR:function(){return g},LW:function(){return N},YZ:function(){return w},Zg:function(){return v},f1:function(){return p},uV:function(){return m},vw:function(){return b}});var a=s(1259),r=s(2920),n=s(774),l=s(6375),i=s(5247),o=s(19),c=s(3454);let u=(e,t,s,a,r,n,l,o,u,d,h)=>{i.ZP.send(c.env.NEXT_PUBLIC_SERVICE_ID,c.env.NEXT_PUBLIC_TEMPLATE_ID,{name:e,email:t,title:s,time:w(a),date:r,note:n,description:l,passcode:o,flier_url:u},c.env.NEXT_PUBLIC_API_KEY).then(e=>{h(!1),d(!0)},e=>{alert(e.text)})},d=()=>Math.random().toString(36).substring(2,10),h=e=>{let t=e.toLowerCase().trim();return(t=t.replace(/[^a-z0-9]+/g,"-")).replace(/^-+|-+$/g,"")},m=async(e,t,s,a,r,i,c,u,d)=>{let m=await (0,o.ET)((0,o.hJ)(l.ZP,"events"),{user_id:e,title:t,date:s,time:a,venue:r,description:i,note:c,slug:h(t),attendees:[],disableRegistration:!1}),f=(0,n.iH)(l.tO,"events/".concat(m.id,"/image"));null!==u?await (0,n.sf)(f,u,"data_url").then(async()=>{let e=await (0,n.Jt)(f);await (0,o.r7)((0,o.JU)(l.ZP,"events",m.id),{flier_url:e}),x("Event created! \uD83C\uDF89"),d.push("/dashboard")}):(x("Event created! \uD83C\uDF89"),d.push("/dashboard"))},x=e=>{r.Am.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},f=e=>{r.Am.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},p=(e,t,s)=>{(0,a.Xb)(l.I8,e,t).then(e=>{e.user,x("Account created \uD83C\uDF89"),s.push("/login")}).catch(e=>{console.error(e),f("Account creation declined ❌")})},g=(e,t,s)=>{(0,a.e5)(l.I8,e,t).then(e=>{e.user,x("Authentication successful \uD83C\uDF89"),s.push("/dashboard")}).catch(e=>{console.error(e),f("Incorrect Email/Password ❌")})},v=e=>{(0,a.w7)(l.I8).then(()=>{x("Logout successful! \uD83C\uDF89"),e.push("/")}).catch(e=>{f("Couldn't sign out ❌")})},b=(e,t,s)=>{try{let a=(0,o.IO)((0,o.hJ)(l.ZP,"events"),(0,o.ar)("user_id","==",e)),r=(0,o.cf)(a,e=>{let a=[];return e.forEach(e=>{a.push({data:e.data(),id:e.id})}),t(a),s(!1),()=>r()})}catch(n){console.error(n)}},w=e=>{let[t,s]=e.split(":").map(Number),a="".concat((t%12||12).toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0"));return"".concat(a).concat(t>=12?"pm":"am")},j=async e=>{let t=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),s=(0,o.JU)(l.ZP,"events",e);(0,o.r7)(s,{disableRegistration:!0,slug:"expired-".concat(t)})},N=async(e,t,s,a,r)=>{r(!0);let n=d(),i=(0,o.JU)(l.ZP,"events",s),c=await (0,o.QT)(i),h={};if(c.exists()){h=c.data();let m=h.attendees,x=m.filter(e=>e.email===t);if(0===x.length&&!1===h.disableRegistration){await (0,o.r7)(i,{attendees:(0,o.vr)({name:e,email:t,passcode:n})});let p=h.flier_url?h.flier_url:"No flier for this event";u(e,t,h.title,h.time,h.date,h.note,h.description,n,p,a,r)}else r(!1),f("User already registered ❌")}},y=async e=>{await (0,o.oe)((0,o.JU)(l.ZP,"events",e));let t=(0,n.iH)(l.tO,"events/".concat(e,"/image"));(0,n.oq)(t).then(()=>{console.log("Deleted successfully")}).catch(e=>{console.error("Image does not exist")})}}},function(e){e.O(0,[16,677,617,556,831,667,774,888,179],function(){return e(e.s=5511)}),_N_E=e.O()}]);