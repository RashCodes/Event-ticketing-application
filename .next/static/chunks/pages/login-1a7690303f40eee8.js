(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(4754)}])},4754:function(e,t,a){"use strict";a.r(t);var n=a(5893),s=a(7294),r=a(9008),i=a.n(r),l=a(1664),o=a.n(l),c=a(3854),u=a(8193),d=a(1163),h=a(4158);let m=()=>{let[e,t]=(0,s.useState)(""),[a,r]=(0,s.useState)(""),l=(0,d.useRouter)(),m=t=>{t.preventDefault(),(0,h.LR)(e,a,l)};return(0,n.jsxs)("div",{children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{children:"Login | EventAlia"}),(0,n.jsx)("meta",{name:"description",content:"An event ticketing system built with NextJS and Firebase"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)("main",{className:"w-full flex items-center justify-between min-h-[100vh]",children:[(0,n.jsxs)("div",{className:"md:w-[60%] w-full flex flex-col items-center justify-center min-h-[100vh] px-[30px] py-[30px] relative",children:[(0,n.jsx)(o(),{href:"/",children:(0,n.jsx)("h2",{className:"text-2xl font-medium mb-6",children:"Log into your account"})}),(0,n.jsxs)("form",{className:"w-full flex flex-col justify-center",onSubmit:m,children:[(0,n.jsx)("label",{htmlFor:"email",children:"Email address"}),(0,n.jsxs)("div",{className:"w-full relative",children:[(0,n.jsx)("input",{type:"email",name:"email",className:"border px-10 py-2 mb-3 rounded-md w-full",required:!0,value:e,onChange:e=>t(e.target.value)}),(0,n.jsx)(c.hBs,{className:" absolute left-4 top-3 text-gray-300 text-xl"})]}),(0,n.jsx)("label",{htmlFor:"password",children:"Password"}),(0,n.jsxs)("div",{className:"w-full relative",children:[(0,n.jsx)("input",{type:"password",name:"password",value:a,onChange:e=>r(e.target.value),className:"border px-10 py-2 mb-4 rounded-md w-full",required:!0}),(0,n.jsx)(u.R9j,{className:" absolute left-4 top-3 text-gray-300 text-xl"})]}),(0,n.jsx)("button",{type:"submit",className:"bg-[#FFD95A] p-3 font-medium hover:bg-[#C07F00] hover:text-[#FFF8DE] mb-3 rounded-md",children:"SIGN IN"}),(0,n.jsxs)("p",{className:"text-center",children:["Don't have an account?"," ",(0,n.jsx)(o(),{href:"/register",className:"text-[#C07F00]",children:"Register"})]})]}),(0,n.jsx)("div",{className:"absolute bottom-5 left-5",children:(0,n.jsxs)("p",{className:"opacity-50 text-sm",children:[(0,n.jsx)(o(),{href:"/",children:"EventAlia"})," \xa9 Copyright @CityU"," ",new Date().getFullYear()," "]})})]}),(0,n.jsx)("div",{className:"login md:w-[40%] h-[100vh] relative",children:(0,n.jsx)("div",{className:"absolute bottom-5 right-5",children:(0,n.jsx)("a",{href:"https://github.com/MohamedRagab128",target:"_blank",className:"text-gray-100",children:"Built by Alia Osama"})})})]})]})};t.default=m},6375:function(e,t,a){"use strict";a.d(t,{I8:function(){return u},tO:function(){return o}});var n=a(3977),s=a(9828),r=a(1259),i=a(6845);let l=0===(0,n.C6)().length?(0,n.ZF)({apiKey:"AIzaSyCiTxiWzxAOndzpeNyy3TuLeT9bxnM0ra4",authDomain:"eventtiz.firebaseapp.com",projectId:"eventtiz",storageBucket:"eventtiz.appspot.com",messagingSenderId:"600043838110",appId:"1:600043838110:web:8e094eec1f41d6c353f98f",measurementId:"G-25R0S4XSE6"}):(0,n.C6)()[0];new r.w9;let o=(0,i.cF)(l),c=(0,s.ad)(l),u=(0,r.v0)(l);t.ZP=c},4158:function(e,t,a){"use strict";a.d(t,{Bt:function(){return y},Hu:function(){return N},LR:function(){return g},LW:function(){return j},YZ:function(){return w},Zg:function(){return v},f1:function(){return x},uV:function(){return m},vw:function(){return b}});var n=a(1259),s=a(2920),r=a(774),i=a(6375),l=a(5247),o=a(19),c=a(3454);let u=(e,t,a,n,s,r,i,o,u,d,h)=>{l.ZP.send(c.env.NEXT_PUBLIC_SERVICE_ID,c.env.NEXT_PUBLIC_TEMPLATE_ID,{name:e,email:t,title:a,time:w(n),date:s,note:r,description:i,passcode:o,flier_url:u},c.env.NEXT_PUBLIC_API_KEY).then(e=>{h(!1),d(!0)},e=>{alert(e.text)})},d=()=>Math.random().toString(36).substring(2,10),h=e=>{let t=e.toLowerCase().trim();return(t=t.replace(/[^a-z0-9]+/g,"-")).replace(/^-+|-+$/g,"")},m=async(e,t,a,n,s,l,c,u,d)=>{let m=await (0,o.ET)((0,o.hJ)(i.ZP,"events"),{user_id:e,title:t,date:a,time:n,venue:s,description:l,note:c,slug:h(t),attendees:[],disableRegistration:!1}),p=(0,r.iH)(i.tO,"events/".concat(m.id,"/image"));null!==u?await (0,r.sf)(p,u,"data_url").then(async()=>{let e=await (0,r.Jt)(p);await (0,o.r7)((0,o.JU)(i.ZP,"events",m.id),{flier_url:e}),f("Event created! \uD83C\uDF89"),d.push("/dashboard")}):(f("Event created! \uD83C\uDF89"),d.push("/dashboard"))},f=e=>{s.Am.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},p=e=>{s.Am.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},x=(e,t,a)=>{(0,n.Xb)(i.I8,e,t).then(e=>{e.user,f("Account created \uD83C\uDF89"),a.push("/login")}).catch(e=>{console.error(e),p("Account creation declined ❌")})},g=(e,t,a)=>{(0,n.e5)(i.I8,e,t).then(e=>{e.user,f("Authentication successful \uD83C\uDF89"),a.push("/dashboard")}).catch(e=>{console.error(e),p("Incorrect Email/Password ❌")})},v=e=>{(0,n.w7)(i.I8).then(()=>{f("Logout successful! \uD83C\uDF89"),e.push("/")}).catch(e=>{p("Couldn't sign out ❌")})},b=(e,t,a)=>{try{let n=(0,o.IO)((0,o.hJ)(i.ZP,"events"),(0,o.ar)("user_id","==",e)),s=(0,o.cf)(n,e=>{let n=[];return e.forEach(e=>{n.push({data:e.data(),id:e.id})}),t(n),a(!1),()=>s()})}catch(r){console.error(r)}},w=e=>{let[t,a]=e.split(":").map(Number),n="".concat((t%12||12).toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"));return"".concat(n).concat(t>=12?"pm":"am")},N=async e=>{let t=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),a=(0,o.JU)(i.ZP,"events",e);(0,o.r7)(a,{disableRegistration:!0,slug:"expired-".concat(t)})},j=async(e,t,a,n,s)=>{s(!0);let r=d(),l=(0,o.JU)(i.ZP,"events",a),c=await (0,o.QT)(l),h={};if(c.exists()){h=c.data();let m=h.attendees,f=m.filter(e=>e.email===t);if(0===f.length&&!1===h.disableRegistration){await (0,o.r7)(l,{attendees:(0,o.vr)({name:e,email:t,passcode:r})});let x=h.flier_url?h.flier_url:"No flier for this event";u(e,t,h.title,h.time,h.date,h.note,h.description,r,x,n,s)}else s(!1),p("User already registered ❌")}},y=async e=>{await (0,o.oe)((0,o.JU)(i.ZP,"events",e));let t=(0,r.iH)(i.tO,"events/".concat(e,"/image"));(0,r.oq)(t).then(()=>{console.log("Deleted successfully")}).catch(e=>{console.error("Image does not exist")})}}},function(e){e.O(0,[16,677,617,556,831,667,774,888,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);